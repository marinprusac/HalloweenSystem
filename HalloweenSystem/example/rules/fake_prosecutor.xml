<?xml version="1.0" encoding="utf-8"?>
<rule name="Choose fake prosecutor">
    <actions>
        <assign>
            <players>
                <iterate name="alliance" parameter_type="tag">
                    <parameter_selector>
                        <intersect>
                            <group_tag name="Alliance members"/>
                            <complement>
                                <tag name="Goodwin"/>
                                <tag name="Necromancer"/>
                                <tag name="Assassin"/>
                            </complement>
                        </intersect>
                    </parameter_selector>
                    
                    <iterable_selector>
                        <random amount="1">
                            <intersect>
                                <has_tag>
                                    <tags>
                                        <parameter name="alliance"/>
                                    </tags>
                                </has_tag>
                                <complement>
                                    <has_group name="Leaders"/>
                                </complement>
                            </intersect>
                        </random>
                    </iterable_selector>
                    
                </iterate>
            </players>
            <tags>
                <tag name="Fake prosecutor"/>
            </tags>
        </assign>
    </actions>
</rule>